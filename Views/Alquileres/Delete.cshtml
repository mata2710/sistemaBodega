@model SistemaBodega.Models.Alquiler

@{
    ViewData["Title"] = "Eliminar alquiler";
}

<h1 class="mt-3">Eliminar alquiler</h1>
<h5 class="text-danger">¿Seguro que deseas eliminar este registro?</h5>
<hr />

<dl class="row">
    <dt class="col-sm-3">Cliente</dt>
    <dd class="col-sm-9">@((Model.Cliente?.Nombre) ?? "—")</dd>

    <dt class="col-sm-3">Bodega</dt>
    <dd class="col-sm-9">@((Model.Bodega?.Nombre) ?? "—")</dd>

    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.FechaInicio)</dt>
    <dd class="col-sm-9">@Model.FechaInicio.ToString("yyyy-MM-dd")</dd>

    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.FechaFin)</dt>
    <dd class="col-sm-9">@Model.FechaFin.ToString("yyyy-MM-dd")</dd>

    <!-- Datos económicos -->
    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.AreaM2)</dt>
    <dd class="col-sm-9">@(Model.AreaM2.HasValue? Model.AreaM2.Value.ToString("N2") : "—")</dd>

    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.PrecioPorM2)</dt>
    <dd class="col-sm-9">@(Model.PrecioPorM2.HasValue? Model.PrecioPorM2.Value.ToString("N2") : "—")</dd>

    <dt class="col-sm-3">Precio de alquiler</dt>
    <dd class="col-sm-9">@(Model.PrecioAlquiler.HasValue? Model.PrecioAlquiler.Value.ToString("N2") : "—")</dd>

    <dt class="col-sm-3">Aumento anual (%)</dt>
    <dd class="col-sm-9">@(Model.AumentoAnualPorcentaje.HasValue? Model.AumentoAnualPorcentaje.Value.ToString("0.##") + " %" : "—")</dd>

    <!-- Estado/flags -->
    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.RenovacionAutomatica)</dt>
    <dd class="col-sm-9">@(Model.RenovacionAutomatica ? "Sí" : "No")</dd>

    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.Activo)</dt>
    <dd class="col-sm-9">@(Model.Activo ? "Activo" : "Inactivo")</dd>

    <!-- Observaciones -->
    <dt class="col-sm-3">@Html.DisplayNameFor(m => m.Observaciones)</dt>
    <dd class="col-sm-9">
        @if (!string.IsNullOrWhiteSpace(Model?.Observaciones))
        {
            <pre class="mb-0" style="white-space:pre-wrap">@Model.Observaciones</pre>
        }
        else
        {
            @:—
        }
    </dd>

    <!-- Contrato -->
    <dt class="col-sm-3">Contrato</dt>
    <dd class="col-sm-9">
        @if (!string.IsNullOrWhiteSpace(Model?.ContratoFilePath))
        {
            <a href="@Model.ContratoFilePath" target="_blank" rel="noopener">Ver contrato</a>
        }
        else
        {
            <span class="text-muted">—</span>
        }
    </dd>
</dl>

<form asp-action="Delete" method="post" class="mt-3">
    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="Id" />

    <button type="submit" class="btn btn-danger">Eliminar</button>
    <a asp-action="Index" class="btn btn-secondary ms-2">Cancelar</a>
</form>
